<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Aurora Health — Non-Descriptive Links Demo</title>
<style>
  :root{
    --bg:#ffffff; --ink:#1f2a37; --muted:#6b7b8d; --line:#e6edf7;
    --brand:#2c7be5; --brand-2:#47b5c6;
  }
  html,body{height:100%}
  body{
    margin:0; background:var(--bg); color:var(--ink);
    font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  }
  a{color:var(--brand); text-underline-offset:2px}
  a:hover{color:#1745b6}
  .container{max-width:1000px; margin:0 auto; padding:32px 20px 140px}
  header{border-bottom:1px solid var(--line); background:#f7fbff}
  .nav{max-width:1000px; margin:0 auto; padding:14px 20px; display:flex; justify-content:space-between; align-items:center}
  .brand{display:flex; align-items:center; gap:10px; font-weight:800}
  .logo{width:34px;height:34px;border-radius:9px;
        background: radial-gradient(120% 120% at 20% 10%, #8bb7ff 0%, #2c7be5 45%, #47b5c6 100%);
        box-shadow:0 3px 10px rgba(47,107,237,.25)}
  h1{font-size:clamp(26px,4.5vw,40px); margin:18px 0 6px}
  .lead{color:var(--muted); margin:0 0 24px}

  section.card{
    border:1px solid var(--line); border-radius:16px; padding:18px 18px 8px; margin:18px 0;
    background:#fff;
  }
  section.card h2{margin:.2rem 0 0.4rem; font-size:22px}
  ul{margin:.2rem 0 1rem 1.2rem}
  li{margin:.25rem 0}
  .cta{margin-top:10px; padding:14px; border:1px dashed var(--line); border-radius:12px; background:#fcfdff}
  .foot{color:var(--muted); font-size:14px; margin-top:6px}

  /* Bottom control bar */
  .a11y-legend{
    position:fixed; left:16px; right:16px; bottom:16px; z-index:50;
    display:flex; flex-direction:column; gap:8px; align-items:center; justify-content:center;
    padding:10px 14px; border-radius:14px; background:rgba(17,24,39,.95); color:#fff; font-weight:600; text-align:center;
    box-shadow:0 6px 24px rgba(0,0,0,.25);
  }
  .row{display:flex; gap:12px; flex-wrap:wrap; justify-content:center}
  .btn{
    all:unset; cursor:pointer; padding:8px 12px; border-radius:10px; font-weight:800;
    background:#bbdcff; color:#0b2a66;
  }
  .btn.primary{background:#22c55e; color:#052e12}
  .btn.warn{background:#ffd166; color:#3b2600}
  .btn[hidden]{display:none!important}

  /* Problem explanation block */
  #problem-note[hidden]{display:none!important}
  #problem-note{
    max-width:900px; color:#fff; font-weight:500; opacity:.95
  }

  /* Visual highlight on fixed links */
  .fixed-highlight{
    box-shadow: 0 0 0 2px #22c55e66;
    border-radius:6px; padding:0 2px;
    animation: flash 1.1s ease 1;
  }
  @keyframes flash{
    0%{box-shadow:0 0 0 0 #22c55e00}
    35%{box-shadow:0 0 0 4px #22c55e99}
    100%{box-shadow:0 0 0 2px #22c55e66}
  }
</style>
</head>
<body>
<header>
  <div class="nav">
    <div class="brand"><div class="logo" aria-hidden="true"></div>Aurora&nbsp;Health</div>
    <nav aria-label="Primary"><a href="#">Patients</a> · <a href="#">Clinicians</a> · <a href="#">About</a></nav>
  </div>
</header>

<main class="container">
  <h1>Helpful info & resources</h1>
  <p class="lead">Below are common tasks our patients ask about.</p>

  <!-- Section 1 -->
  <section class="card" aria-labelledby="appt">
    <h2 id="appt">Appointments</h2>
    <ul>
      <li>To schedule a visit, <a href="/appointments" class="weak-link" data-key="appointments">Click here</a>.</li>
      <li>Need to prepare for your first visit? <a href="/new-patient" class="weak-link" data-key="newpatient">Read more</a>.</li>
    </ul>
    <div class="foot">Questions about referrals? <a href="/referrals" class="weak-link" data-key="referrals">Learn more</a>.</div>
  </section>

  <!-- Section 2 -->
  <section class="card" aria-labelledby="billing">
    <h2 id="billing">Billing & insurance</h2>
    <ul>
      <li>For statements and payment plans, <a href="/billing" class="weak-link" data-key="billing">Click here</a>.</li>
      <li>Insurance networks we accept: <a href="/insurance" class="weak-link" data-key="insurance">More</a>.</li>
    </ul>
    <div class="cta">Prefer online pay? <a href="/pay" class="weak-link" data-key="pay">Here</a> to submit a secure payment.</div>
  </section>

  <!-- Section 3 -->
  <section class="card" aria-labelledby="portal">
    <h2 id="portal">Patient portal & app</h2>
    <ul>
      <li>Access your lab results in the portal: <a href="/patient-portal" class="weak-link" data-key="portal">Click</a>.</li>
      <li>Get reminders on mobile — <a href="/download-app" class="weak-link" data-key="app">Download</a>.</li>
    </ul>
    <p class="foot">Privacy details are available <a href="/privacy" class="weak-link" data-key="privacy">here</a>.</p>
  </section>

  <!-- Section 4 -->
  <section class="card" aria-labelledby="careers">
    <h2 id="careers">Careers</h2>
    <p>We’re hiring nurses, care coordinators, and engineers. <a href="/careers" class="weak-link" data-key="careers">Learn more</a>.</p>
  </section>
</main>

<!-- Controls -->
<div class="a11y-legend" role="region" aria-label="Demo controls">
  <div class="row">
    <button id="fixBtn" class="btn primary">Fix</button>
    <button id="unfixBtn" class="btn warn" hidden>Unfix</button>
  </div>
  <div id="problem-note" hidden>
    <span>
      Problem: Non-descriptive link text like “Click here”, “Read more”, or “Here” forces people using screen readers or link lists to guess the destination.
      WCAG recommends that link purpose be clear from the link text itself (and not rely only on surrounding context).
      Originally found: <strong id="badCount">0</strong> vague links — e.g., <em id="badExamples"></em>.
    </span>
  </div>
</div>

<script>
  // Map each weak link to a clear replacement label & aria-label
  const LINK_FIXES = {
    appointments: { text: "Schedule an appointment", aria: "Schedule an appointment online" },
    newpatient:   { text: "How to prepare for your first visit", aria: "Learn how to prepare for your first visit" },
    referrals:    { text: "Referral requirements and process", aria: "Learn about referral requirements and process" },
    billing:      { text: "View billing statements & payment plans", aria: "View billing statements and payment plans" },
    insurance:    { text: "Insurance plans we accept", aria: "See insurance plans we accept" },
    pay:          { text: "Pay your bill online", aria: "Submit a secure online payment" },
    portal:       { text: "Open the patient portal", aria: "Open the patient portal to view lab results" },
    app:          { text: "Download our mobile app", aria: "Download the Aurora Health mobile app" },
    privacy:      { text: "Read our Privacy Notice", aria: "Read the Aurora Health Privacy Notice" },
    careers:      { text: "See open roles at Aurora Health", aria: "See open roles at Aurora Health" }
  };

  const weakLinks = Array.from(document.querySelectorAll('a.weak-link'));
  const fixBtn = document.getElementById('fixBtn');
  const unfixBtn = document.getElementById('unfixBtn');
  const note = document.getElementById('problem-note');
  const badCount = document.getElementById('badCount');
  const badExamples = document.getElementById('badExamples');

  // Record original texts so we can revert + show examples
  weakLinks.forEach(a => {
    a.dataset.originalText = (a.textContent || '').trim();
  });

  // Show the problem note immediately so you can explain before/after once "Fix" is pressed
  function revealProblemNote(){
    // build example list from first few originals
    const originals = weakLinks.map(a => a.dataset.originalText).filter(Boolean);
    const sample = originals.slice(0, 3).join('”, “');
    badCount.textContent = String(originals.length);
    badExamples.textContent = originals.length ? `“${sample}${originals.length>3?'”, …':''}` : '';
    note.hidden = false;
  }

  function applyFixes(){
    weakLinks.forEach(a => {
      const key = a.dataset.key;
      const fix = LINK_FIXES[key];
      if(!fix) return;

      // Replace visible text
      a.textContent = fix.text;

      // Improve SR experience
      a.setAttribute('aria-label', fix.aria);

      // Optional: add title mirroring the aria-label
      a.setAttribute('title', fix.aria);

      // Visual highlight so audience sees what changed
      a.classList.add('fixed-highlight');
      setTimeout(()=> a.classList.remove('fixed-highlight'), 1100);
    });
  }

  function revertFixes(){
    weakLinks.forEach(a => {
      // Restore original text and attributes
      a.textContent = a.dataset.originalText || a.textContent;
      a.removeAttribute('aria-label');
      a.removeAttribute('title');
      a.classList.remove('fixed-highlight');
    });
  }

  // Button handlers
  let fixed = false;

  fixBtn.addEventListener('click', () => {
    if (fixed) return;
    applyFixes();
    revealProblemNote();
    fixed = true;
    fixBtn.setAttribute('hidden','');
    unfixBtn.removeAttribute('hidden');
  });

  unfixBtn.addEventListener('click', () => {
    if (!fixed) return;
    revertFixes();
    fixed = false;
    unfixBtn.setAttribute('hidden','');
    fixBtn.removeAttribute('hidden');
    // Keep the note visible so you can keep discussing the guideline
    // (remove the next line if you'd rather hide it)
    // note.hidden = true;
  });

  // If you'd rather reveal the note immediately on page load, uncomment below:
  // revealProblemNote();
</script>
</body>
</html>
